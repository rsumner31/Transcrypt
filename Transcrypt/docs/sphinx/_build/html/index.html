<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Welcome to Transcrypt’s documentation! &mdash; Transcrypt 0.0.15 documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.15',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Transcrypt 0.0.15 documentation" href="#" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="#">Transcrypt 0.0.15 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-transcrypt-s-documentation">
<h1>Welcome to Transcrypt&#8217;s documentation!<a class="headerlink" href="#welcome-to-transcrypt-s-documentation" title="Permalink to this headline">¶</a></h1>
<p>Contents:</p>
<div class="toctree-wrapper compound">
<ul class="simple">
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span>Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span>Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span>Search Page</span></a></li>
</ul>
</div>
<div class="section" id="transcrypt-what-and-why">
<h1>Transcrypt: what and why<a class="headerlink" href="#transcrypt-what-and-why" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-transcrypt">
<h2>What is Transcrypt<a class="headerlink" href="#what-is-transcrypt" title="Permalink to this headline">¶</a></h2>
<p>Transcrypt is a tool to compile a Small Sane Subset of Python into compact, readable JavaScript. It has the following characteristics:</p>
<ol class="arabic simple">
<li>It&#8217;s lightweight, in accordance Pareto’s rule adapted for IT: 99% of the result can be achieved with 1% of the effort.</li>
<li>It offers the semantic essence of Python along with the clean, highly readable syntax that the language is famous for</li>
<li>It cooperates flawlessly with the JavaScript universe of web-oriented libraries</li>
</ol>
<p>In two words: it&#8217;s <em>lean</em> and <em>mean</em>.</p>
</div>
<div class="section" id="language-preferences-a-subjective-account">
<h2>Language preferences, a subjective account<a class="headerlink" href="#language-preferences-a-subjective-account" title="Permalink to this headline">¶</a></h2>
<p>Language preferences are largely subjective. For some developers, JavaScript is the language of choice. They are right. For others it&#8217;s Python. They&#8217;re equally right. It just fits the way of thinking of many. The word &#8216;pythonic&#8217; says it all: Programming in Python can be a joy. And, apart from being its own reward, taking joy in one&#8217;s work enhances quality like no other incentive.</p>
<p>At the basis of Transcrypt lies the following shopping list:</p>
<ul class="simple">
<li>Python syntax</li>
<li>Small downloads</li>
<li>No barriers to the JavaScript / JQuery / DOM world</li>
<li>Dynamic typing</li>
<li>&#8216;Classic&#8217; object orientation including multiple inheritance</li>
<li>Static transpilation</li>
<li>Lambda’s</li>
<li>Named parameters</li>
<li>Lists, dicts and sets</li>
<li>List comprehensions</li>
<li>Nested tuple assignment</li>
<li>Assignment of bound functions</li>
</ul>
<p>At the advent of Transcrypt there were many Python to JavaScript transpiler projects around, some of them quite mature. Neither of them fitted the above shopping list. Either the downloads were too large, or some of must have features were missing. To some, the shopping list may seem weird. Multiple inheritance? The whole Java world is doing without it. Exactly. And that&#8217;s one of the reasons why a large category of developers shunned Java from the start. To them multiple inheritance has proven a powerful tool ever since it was introduced in C++.</p>
<p>So if it&#8217;s all that subjective, why should <em>you</em> use it?. Well, <em>only if and when you like it</em>. That&#8217;s all. In IT everything grows until it becomes unusable. One of the main goals of Transcrypt is to keep things simple, preventing it from disolution into an ocean of feature creep and conflicting demands. At its core it will stay a Small, Sane, Subset of Python. For the rest: it&#8217;s open. There&#8217;s a hierarchical module system included right from the start, featuring Java-esque URL based unique package names. So, once the core of Transcrypt has stabilized, you&#8217;re invited to help its ecosystem grow.</p>
</div>
<div class="section" id="the-ecosystem-different-batteries">
<h2>The ecosystem: different batteries<a class="headerlink" href="#the-ecosystem-different-batteries" title="Permalink to this headline">¶</a></h2>
<p>To be effective, a programming language needs libraries. Python is famous for its &#8216;batteries included&#8217; claim: Almost any library you can think of has been written for Python, and is available from a central location: <a class="reference external" href="https://pypi.python.org">https://pypi.python.org</a> . But Python&#8217;s batteries are desktop c.q. server batteries. And Transcrypt is for the web client world. So it needs different batteries. There&#8217;s a virtually unlimited supply of free high quality JavaScript libraries for web applications. The web is dominated by designers and while programmers may loathe their way of thinking, they sure have created beautiful things. The set of available JQuery components alone beats everything I&#8217;ve seen on the desktop from an aesthetic point of view. Rather than attempting to set up a parallel universe for Transcrypt, the only sensible thing to do is to embrace the JavaScript ecosystem to the max. There may be thin &#8216;pythonic&#8217; wrappers around JavaScript libraries, but even this is not needed. JavaScript libraries can be used from Transcrypt without restrictions or complications.</p>
<p>There&#8217;s a category of libraries c.q. applications that are probably developed easier in Transcrypt than in JavaScript. Transcrypt&#8217;s niche are non-trivial web applications where, apart from looks, things like structure, overview, simplicity, explicitness and regularity start to count. This is where Python shines and Transcrypt with it. The preferred way to make Transcrypt libraries and applications avaible to the world is PyPi, Transcrypt being a Python flavour.</p>
</div>
<div class="section" id="code-structure">
<h2>Code structure<a class="headerlink" href="#code-structure" title="Permalink to this headline">¶</a></h2>
<p>In the JavaScript world, components are gathered from everywhere on the web during a page load, and small fragments of code maybe anywhere in a web page. Transcrypt takes a different approach. The concept of a static webpage is secundary and may even be absent. Typically there&#8217;s one and only one Transcrypt application attachted to a certain URL or page. This application has it&#8217;s own namespace and may feature many entrypoints or callbacks attached to DOM components. Although traditional web pages can be made without restrictions using Transcrypt, the focus is on complex stateful web applications rather than on static pages interspersed with code fragments. Typically such a web application will rely on the server to store and retrieve data and program state. Although at some point &#8216;pythonic&#8217; libraries may come into existence to facilitate this, direct use of JavaScript AJAX or e.g. of a JQuery AJAX wrapper, will do the job fine.</p>
</div>
<div class="section" id="debugability">
<h2>Debugability<a class="headerlink" href="#debugability" title="Permalink to this headline">¶</a></h2>
<p>In order to debug a transpiled web app, it helps a lot if there&#8217;s a simple correspondence between the Python source code and the generated JavaScript. In Transcrypt this is the case, as is illustrated by the following code fragments:</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><div class="literal-block-wrapper first last container" id="classes-py">
<div class="code-block-caption"><span class="caption-text">classes.py</span><a class="headerlink" href="#classes-py" title="Permalink to this code">¶</a></div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>

    <span class="k">def</span> <span class="nf">show</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">print</span> <span class="p">(</span><span class="s">&#39;A.show&#39;</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">)</span>
    
<span class="k">class</span> <span class="nc">B</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="n">alert</span> <span class="p">(</span><span class="s">&#39;In B constructor&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        
    <span class="k">def</span> <span class="nf">show</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="k">print</span> <span class="p">(</span><span class="s">&#39;B.show&#39;</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
        
<span class="k">class</span> <span class="nc">C</span> <span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="n">alert</span> <span class="p">(</span><span class="s">&#39;In C constructor&#39;</span><span class="p">)</span>
        <span class="n">A</span><span class="o">.</span><span class="n">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
        <span class="n">B</span><span class="o">.</span><span class="n">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show</span> <span class="p">(</span><span class="s">&#39;constructor&#39;</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="nf">show</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">):</span>
        <span class="n">B</span><span class="o">.</span><span class="n">show</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">label</span><span class="p">)</span>
        <span class="k">print</span> <span class="p">(</span><span class="s">&#39;C.show&#39;</span><span class="p">,</span> <span class="n">label</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
    
<span class="n">a</span> <span class="o">=</span> <span class="n">A</span> <span class="p">(</span><span class="mi">1001</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">show</span> <span class="p">(</span><span class="s">&#39;america&#39;</span><span class="p">)</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">B</span> <span class="p">(</span><span class="mi">2002</span><span class="p">)</span>
<span class="n">b</span><span class="o">.</span><span class="n">show</span> <span class="p">(</span><span class="s">&#39;russia&#39;</span><span class="p">)</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">C</span> <span class="p">(</span><span class="mi">3003</span><span class="p">,</span> <span class="mi">4004</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">show</span> <span class="p">(</span><span class="s">&#39;netherlands&#39;</span><span class="p">)</span>

<span class="n">show2</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">show</span>
<span class="n">show2</span> <span class="p">(</span><span class="s">&#39;copy&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</td>
<td><div class="literal-block-wrapper first last container" id="classes-js">
<div class="code-block-caption"><span class="caption-text">classes.js</span><a class="headerlink" href="#classes-js" title="Permalink to this code">¶</a></div>
<div class="highlight-python"><div class="highlight"><pre>var A = __class__ (&#39;A&#39;, [object], {
    get __init__ () {return __get__ (this, function (self, x) {
        self.x = x;
    });},
    get show () {return __get__ (this, function (self, label) {
        print (&#39;A.show&#39;, label, self.x);
    });}
});
var B = __class__ (&#39;B&#39;, [object], {
    get __init__ () {return __get__ (this, function (self, y) {
        alert (&#39;In B constructor&#39;);
        self.y = y;
    });},
    get show () {return __get__ (this, function (self, label) {
        print (&#39;B.show&#39;, label, self.y);
    });}
});
var C = __class__ (&#39;C&#39;, [A, B], {
    get __init__ () {return __get__ (this, function (self, x, y) {
        alert (&#39;In C constructor&#39;);
        A.__init__ (self, x);
        B.__init__ (self, y);
        self.show (&#39;constructor&#39;);
    });},
    get show () {return __get__ (this, function (self, label) {
        B.show (self, label);
        print (&#39;C.show&#39;, label, self.x, self.y);
    });}
});
var a = A (1001);
a.show (&#39;america&#39;);
var b = B (2002);
b.show (&#39;russia&#39;);
var c = C (3003, 4004);
c.show (&#39;netherlands&#39;);
var show2 = c.show;
show2 (&#39;copy&#39;);
</pre></div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="autotesting-transcrypt-code">
<h1>Autotesting Transcrypt code<a class="headerlink" href="#autotesting-transcrypt-code" title="Permalink to this headline">¶</a></h1>
<div class="section" id="wy-it-s-needed">
<h2>Wy it&#8217;s needed<a class="headerlink" href="#wy-it-s-needed" title="Permalink to this headline">¶</a></h2>
<p>An simple autotest feature has been added to Transcrypt right from the start for the following reasons:</p>
<ol class="arabic simple">
<li>Any programming language compiler has to be reliable, since a large investment in code may come to depend upon it. Languages and libraries should be able to evolve without regression bugs being introduced. In a rich language many constructs are possible which all should be tested with each new release. This can only be done if testing is automated.</li>
<li>Since Transcrypt compiles not all of Python but a Small, Sane Subset, it has to be rigorously clear what can be compiled and what not. The sourcecode of a set of automated tests can be an effective means of laying down what is possible in the language. Whereas code examples and documents may lag back or deviate from reality, test code has to cover the essential features of the language and is, by nature, constantly exercised to match the latest status of the language.</li>
</ol>
</div>
<div class="section" id="how-it-works">
<h2>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h2>
<p>When code is being tested, a reference is needed of what is considered to be correct. With Transcrypt that reference is CPython. Autotesting Transcrypt code is simple and boils down to the following.</p>
<ol class="arabic simple">
<li>Along with developing production code, a growing set of <em>testlets</em> is developed. A testlet is a small application testing a certain feature or group of features. It repeatedly calls method <em>org.transcrypt.autotester.AutoTester.store (self, aString)</em> to store a well defined sequence of output data.</li>
<li>A series of testlets are imported into an application called an <em>autotest</em>.</li>
<li>The autotest is first run from the command line: <em>python Transcrypt -r autotest.py</em>. This will generate a file <em>autotest.html</em> in the working directory, containing the <em>reference data sequence</em> in a HTML DIV using CPython.</li>
<li>After that, the autotest is compiled to JavaScript: <em>python Transcryp -b autotest.py</em>. This will generate file <em>autotest.js</em> in the corresponding JavaScript directory.</li>
<li>Click on <em>autotest.html</em> to load the autotest into the browser and run <em>autotest.js</em>. This will generate the <em>test data sequence</em>, now using the Transcrypt runtime.</li>
<li>After this, the test data sequence is automatically compared to the reference data sequence that was part of the html, and an error report is shown in the browser.</li>
</ol>
<p>An example of two testlets combined into an autotest is below:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><div class="literal-block-wrapper first last container" id="autotest-py">
<div class="code-block-caption"><span class="caption-text">autotest.py</span><a class="headerlink" href="#autotest-py" title="Permalink to this code">¶</a></div>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">org.transcrypt.autotester</span>
<span class="kn">import</span> <span class="nn">testlet0</span>
<span class="kn">import</span> <span class="nn">testlet1</span>

<span class="n">autoTester</span> <span class="o">=</span> <span class="n">org</span><span class="o">.</span><span class="n">transcrypt</span><span class="o">.</span><span class="n">autotester</span><span class="o">.</span><span class="n">AutoTester</span> <span class="p">()</span>
<span class="n">testlet0</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">)</span>
<span class="n">testlet1</span><span class="o">.</span><span class="n">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">)</span>
<span class="n">autoTester</span><span class="o">.</span><span class="n">done</span> <span class="p">()</span>
</pre></div>
</div>
</div>
</td>
<td><div class="literal-block-wrapper first last container" id="testlet0-py">
<div class="code-block-caption"><span class="caption-text">testlet0.py</span><a class="headerlink" href="#testlet0-py" title="Permalink to this code">¶</a></div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">store</span> <span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">store</span> <span class="p">(</span><span class="s">&#39;world&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</td>
<td><div class="literal-block-wrapper first last container" id="testlet1-py">
<div class="code-block-caption"><span class="caption-text">testlet1.py</span><a class="headerlink" href="#testlet1-py" title="Permalink to this code">¶</a></div>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">run</span> <span class="p">(</span><span class="n">autoTester</span><span class="p">):</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">store</span> <span class="p">(</span><span class="s">&#39;goodbye&#39;</span><span class="p">)</span>
    <span class="n">autoTester</span><span class="o">.</span><span class="n">store</span> <span class="p">(</span><span class="s">&#39;moon&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to Transcrypt&#8217;s documentation!</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
<li><a class="reference internal" href="#transcrypt-what-and-why">Transcrypt: what and why</a><ul>
<li><a class="reference internal" href="#what-is-transcrypt">What is Transcrypt</a></li>
<li><a class="reference internal" href="#language-preferences-a-subjective-account">Language preferences, a subjective account</a></li>
<li><a class="reference internal" href="#the-ecosystem-different-batteries">The ecosystem: different batteries</a></li>
<li><a class="reference internal" href="#code-structure">Code structure</a></li>
<li><a class="reference internal" href="#debugability">Debugability</a></li>
</ul>
</li>
<li><a class="reference internal" href="#autotesting-transcrypt-code">Autotesting Transcrypt code</a><ul>
<li><a class="reference internal" href="#wy-it-s-needed">Wy it&#8217;s needed</a></li>
<li><a class="reference internal" href="#how-it-works">How it works</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="#">Transcrypt 0.0.15 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Jacques de Hooge.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3.
    </div>
  </body>
</html>